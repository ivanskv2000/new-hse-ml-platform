 
# NL2ML Tag Prediction

## Установка

Нужно сделать виртуальную среду с python версии 3.8.

```sh
virtualenv -p python3.8 venv
```

Внутри виртуальной среды нужно установить пакеты. Возможны проблемы с компиляцией из исходников, поэтому `--prefer-binary`.

С активированной средой:

```sh
python -m pip install -r requirements.txt --prefer-binary
```

Скрипт `setup.sh` содержит шаги выше.

Веса нужно скачать отдельно. Для этого в папке `artifacts/models` есть файл со ссылкой на яндекс диск и скрипт, который скачивает нужные файлы автоматически.


## Запуск

```sh
python exec_script.py -p full_path_to_parameters.json
```

## Параметры `.json`

**path_to_model_dir** - полный путь к папке модели (внутри которой artifacts, exec_script, и т.д.)

**data_input_path** - полный путь к файлу с входными данными. Пример в `/input.csv`.

**data_output_path** - полный путь к папке, куда нужно писать выходные данные.

### model_parameters

**model_type** - строка. Сейчас единственное возможное значение - `svm`, потенциально ещё может быть `logreg`.

Необязательно, по умолчанию `svm`.

## Входные данные

Таблица в формате csv с одним столбцом `code_block`.

Данные в кавычках, столбец содержит символы переноса строки.

## Выходные данные

Та же самая таблица с набором новых столбцов. Каждый столбец соответствует одному тегу. Значения столбцов: 0, 1. 

- 0: Код в первом столбце не распознан как соответствующий тег
- 1: Код в первом столбце распознан как соответствующий тег

Теги:

```
"import"
"data_import"
"data_export"
"preprocessing"
"visualization"
"model"
"deep_learning_model"
"train"
"predict"
```

Столбцы разделены запятыми.
